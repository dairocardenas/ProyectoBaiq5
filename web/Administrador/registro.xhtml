<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template"/>
        <meta name="author" content="GeeksLabs"/>
        <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal"/>
        <link rel="shortcut icon" href="../Vendedor//img/logo (1).svg"></link>
        <title>Registro Usuarios</title>
        <link href="../Administrador/css/bootstrap.min.css" rel="stylesheet/"/>
        <link href="../Administrador/css/bootstrap-theme.css" rel="stylesheet"/>
        <link href="../Administrador/css/elegant-icons-style.css" rel="stylesheet" />
        <link href="../Administrador/css/font-awesome.min.css" rel="stylesheet" />
        <link href="../Administrador/css/style1.css" rel="stylesheet"/>
        <link href="../Administrador/css/style-responsive.css" rel="stylesheet" />
        <link rel="shortcut icon" href="../resources/img/logo (1).svg"></link>

        <link rel="apple-touch-icon" href="https://i.imgur.com/QRAUqs9.png"/>
        <link rel="shortcut icon" href="https://i.imgur.com/QRAUqs9.png"/>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css"/>
        <link rel="stylesheet" href="cs-skin-elastic.css"/>
        <link rel="stylesheet" href="style.css"/>

        <style type="text/css">
            body {
                background-image: url(../resources/img/login.jpg)
            }

        </style>

        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'/>
    </h:head>

    <h:body>
        <!-- container section start -->
        <section id="container" class="">
            <!--header start-->
            <header class="header dark-bg">

                <div class="toggle-nav">

                    <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"><i class="icon_menu" /></div>
                </div>
                <!--logo start-->
                <a href="index.xhtml" class="logo">Bienvenido <span class="lite">Administrador</span></a>
                <!--logo end-->

                <div class="top-nav notification-row">
                    <!-- notificatoin dropdown start-->

                    <ul class="nav pull-right top-menu">
                        <!-- task notificatoin start -->
                        <!-- task notificatoin end -->
                        <!-- inbox notificatoin start-->
                        <!-- inbox notificatoin end -->
                        <!-- alert notification start-->

                        <li id="alert_notificatoin_bar" class="dropdown">
                            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                <i class="icon-bell-l" />
                                <span class="badge bg-important">7</span>
                            </a>

                            <ul class="dropdown-menu extended notification">

                                <div class="notify-arrow notify-arrow-blue" />

                                <li>

                                    <p class="blue">Tienes 2 nuevas notificaciones</p>
                                </li>

                                <li>
                                    <a href="#">
                                        <span class="label label-primary"><i class="icon_profile" /></span>
                                        Orden De Compra
                                        <span class="small italic pull-right">5 mins</span>
                                    </a>
                                </li>

                                <li>
                                    <a href="#">
                                        <span class="label label-warning"><i class="icon_pin" /></span>
                                        Orden De Servicios
                                        <span class="small italic pull-right">50 mins</span>
                                    </a>
                                </li>

                                <li>
                                    <a href="#">
                                        <span class="label label-danger"><i class="icon_book_alt" /></span>
                                        Fidelizaciòn.
                                        <span class="small italic pull-right">1 hr</span>
                                    </a>
                                </li>

                                <li>
                                    <a href="#">Ver todas las notificaciones</a>
                                </li>
                            </ul>
                        </li>
                        <!-- alert notification end-->

                        <li class="dropdown col-lg-12 col-md-8 col-sm-4">
                            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                <span class="profile-ava">
                                    <img alt="" src="img/inicio sesion.jpg" width="40" height="40" />
                                </span>
                                <span class="username">Enrique Cuellar</span>
                                <b class="caret" />
                            </a>

                            <ul class="dropdown-menu extended logout">

                                <div class="log-arrow-up" />

                                <li class="eborder-top">
                                    <a href="#"><i class="icon_profile" /> My Profile</a>
                                </li>

                                <li>
                                    <h:form>
                                        <h:commandLink action="#{usuarioSession.cerrarSesion()}" class="nav-link" value="Logout"/>
                                    </h:form>
                                </li>
                            </ul>
                        </li>
                        <!-- user login dropdown end -->
                    </ul>
                    <!-- notificatoin dropdown end-->
                </div>
            </header>
            <!--header end-->
            <!--sidebar start-->
            <aside>

                <div id="sidebar" class="nav-collapse ">
                    <!-- sidebar menu start-->

                    <ul class="sidebar-menu">

                        <li class="">
                            <a class="" href="index.xhtml">
                                <i class="icon_house_alt" />
                                <span>Inicio</span>
                            </a>
                        </li>

                        <li class="sub-menu">
                            <a href="javascript:;" class="">
                                <i class="icon_document_alt" />
                                <span>Reportes</span>
                                <span class="menu-arrow arrow_carrot-right" />
                            </a>

                            <ul class="sub">
                                &lt;
                                <li><a class="" href="reporteVentas.xhtml">Reportes Ventas</a></li>

                                <li><a class="" href="reporteServicios.xhtml">Reportes Servicios</a></li>

                                <li><a class="" href="reporteFidelizacion.xhtml">Reportes Fidelizaciòn</a></li>
                            </ul>
                        </li>

                        <li class="sub-menu">
                            <a href="javascript:;" class="">
                                <i class="icon_table" />
                                <span>Registros</span>
                                <span class="menu-arrow arrow_carrot-right" />
                            </a>

                            <ul class="sub">

                                <li><a class="" href="Tienda.xhtml">Tiendas</a></li>
                            </ul>
                        </li>

                        <li class="sub-menu">
                            <a href="javascript:;" class="">
                                <i class="icon_key_alt" />
                                <span>Inventario</span>
                                <span class="menu-arrow arrow_carrot-right" />
                            </a>

                            <ul class="sub">

                                <li><a class="" href="inventario.xhtml">Reporte Inventario</a></li>

                                <li><a class="" href="crear_produc.xhtml">Crear Productos</a></li>
                            </ul>
                        </li>

                    </ul>
                </div>
            </aside>
            <!--main content start-->
            <section id="main-content">
                <section class="wrapper">

                    <div class="row">

                        <div class="col-lg-12">

                            <h3 class="page-header"><i class="fa fa-table" /> Registro</h3>

                            <ol class="breadcrumb">

                                <li><i class="fa fa-home" /><a href="index.html">Inicio</a></li>

                                <li><i class="fa fa-table" />Registros</li>

                                <li><i class="fa fa-th-list" />Usuarios</li>
                            </ol>
                        </div>
                    </div>
                    <!-- page start-->

                    <div class="row">

                        <div class="col-lg-12">
                            <section class="panel">
                                <header class="panel-heading">
                                    Vincular Usuarios
                                </header>

                                <div class="breadcrumbs">
                                    <div class="breadcrumbs-inner">
                                        <div class="row m-0">
                                            <div class="col-sm-4">
                                                <div class="page-header float-left">
                                                    <div class="page-title">
                                                        <h1>${panel}</h1>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="content">
                                    <div class="animated fadeIn">
                                        <div class="row">

                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <strong class="card-title">Lista de usuarios</strong>
                                                    </div>
                                                    <div class="card-body ">
                                                        <h:form>
                                                            <table id="bootstrap-data-table" class="table table-striped table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                        <th>documento</th>
                                                                        <th>Nombres / Apellidos</th>
                                                                        <th>Correo</th>
                                                                        <th>Direccion</th>
                                                                        <th>telefono</th>
                                                                        <th>Acciones</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>

                                                                    <c:forEach items="#{administradorView.listaUsuarios}" var="usu">
                                                                        <tr>
                                                                            <td>#{usu.documento}  </td>
                                                                            <td>#{usu.primerNombre} #{usu.segundoNombre}</td>
                                                                            <td>#{usu.correoElectronico}</td>
                                                                            <td>#{usu.direccion}</td>
                                                                            <td>#{usu.telefono}</td>

                                                                            <td>
                                                                                <c:if test="#{usu.documento != usuarioSession.usuLogin.documento}">
                                                                                    <h:commandButton  action="#{administradorView.cargaUsuarioEditar(usu)}" style="margin-right: 10px" class="btn btn-outline-primary" onclick="$('#btnModal').click();" value="Editar">
                                                                                        <f:ajax render=":formModal"></f:ajax>
                                                                                    </h:commandButton>
                                                                                    <h:commandButton action="#{administradorView.removerUsuario(usu)}" class="btn btn-outline-danger" value="Remover"/> 


                                                                                </c:if>
                                                                            </td>
                                                                        </tr>
                                                                    </c:forEach>    



                                                                </tbody>
                                                            </table>
                                                        </h:form>
                                                    </div>
                                                    <hr/>
                                                    <div class="row">
                                                        <div  class="col-md-8">

                                                        </div>
                                                        <div  class="col-md-2">
                                                            <h:form>
                                                                <h:commandButton action="#{administradorView.correoMasivo()}" class="btn btn-success mb-1" value="promociones"/>
                                                                <br/>
                                                                <h:commandButton action="#{administradorView.descargaReporte('Clientes')}" class="btn btn-success mb-1" value="Reporte"/>

                                                            </h:form>

                                                        </div>
                                                        <div  class="col-md-2">
                                                            <button type="button" class="btn btn-secondary mb-1" data-toggle="modal" data-target="#mediumModal">
                                                                Crear Usuario
                                                            </button>

                                                            <button type="button" style="display: none" id="btnModal" class="btn btn-secondary mb-1" data-toggle="modal" data-target="#actualizarModal">
                                                                actualiza Usuario
                                                            </button>


                                                        </div>


                                                    </div>


                                                </div>


                                            </div>


                                        </div>
                                    </div><!-- .animated -->
                                </div><!-- .content -->


                                <div class="modal fade"  id="actualizarModal" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg " role="document" style="position: absolute;" >
                                        <div class="modal-content" >
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="mediumModalLabel">Actualizar usuario</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>


                                            <h:form  id="formModal">
                                                <div class="modal-body col-lg-12 col-md-8 col-sm-4 ">


                                                    <div class="form-group">
                                                        <label>Tipo de documento </label>
                                                        <h:selectOneMenu  value="#{administradorView.usReg.documento}"  class="form-control">
                                                            <f:selectItem itemLabel="Cedula" itemValue="Cedula"></f:selectItem>
                                                            <f:selectItem itemLabel="T. Identidad" itemValue="T. Identidad"></f:selectItem>
                                                            <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte"></f:selectItem>
                                                            <f:selectItem itemLabel="Cedula Ex" itemValue="Cedula Ex"></f:selectItem>
                                                        </h:selectOneMenu>

                                                    </div>


                                                    <div class="form-group">
                                                        <label>Numero documento </label>
                                                        <h:inputText id="regDocumento" required="true" requiredMessage="Ingrese un numero de documento" value="#{administradorView.usReg.documento}" class="form-control" html5:placeholder="Numero documento"/>
                                                        <h:message style="color: red" for="regDocumento"></h:message>
                                                    </div>


                                                    <div class="form-group">
                                                        <label>Nombres </label>
                                                        <h:inputText required="true" requiredMessage="Ingrese sus nombres" id="regNombres" value="#{administradorView.usReg.primerNombre}" class="form-control" html5:placeholder="Nombres"/>
                                                        <h:message style="color: red" for="regNombres"></h:message>
                                                    </div>



                                                    <div class="form-group">
                                                        <label>Apellidos </label>
                                                        <h:inputText required="true" requiredMessage="Ingrese sus apellidos" id="regApellidos" value="#{administradorView.usReg.primerApellido}" class="form-control" html5:placeholder="Apellidos"/>
                                                        <h:message style="color: red" for="regApellidos"></h:message>
                                                    </div>

                                                    <div class="form-group">
                                                        <label>Dirección de correo electrónico</label>
                                                        <h:inputText required="true"  requiredMessage="Ingrese un correo" id="regCorreo" value="#{administradorView.usReg.correoElectronico}" class="form-control" html5:placeholder="Correo electrónico"/>
                                                        <h:message style="color: red" for="regCorreo"></h:message>
                                                    </div>

                                                    <div class="form-group">
                                                        <label>Clave</label>
                                                        <h:inputSecret required="true" requiredMessage="Ingrese una clave" id="regClave"  value="#{administradorView.usReg.password}" class="form-control" html5:placeholder="Clave"/>
                                                        <h:message style="color: red" for="regClave"></h:message>
                                                    </div>



                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <h:commandButton action="#{administradorView.editarUsuario()}"  class="btn btn-primary btn-flat m-b-30 m-t-30" value="Actualizar"/>
                                                </div>
                                            </h:form>
                                        </div>
                                    </div>
                                </div>


                                <div class="modal fade" id="mediumModal" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg" role="document" style="position: absolute;">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="mediumModalLabel">Registro usuario nuevo</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <h:form >
                                                <div class="modal-body  col-lg-12 col-md-8 col-sm-4">


                                                    <div class="form-group">
                                                        <label>Tipo de documento </label>
                                                        <h:selectOneMenu  value="#{administradorView.usReg.documento}"  class="form-control">
                                                            <f:selectItem itemLabel="Cedula" itemValue="Cedula"></f:selectItem>
                                                            <f:selectItem itemLabel="T. Identidad" itemValue="T. Identidad"></f:selectItem>
                                                            <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte"></f:selectItem>
                                                            <f:selectItem itemLabel="Cedula Ex" itemValue="Cedula Ex"></f:selectItem>
                                                        </h:selectOneMenu>

                                                    </div>


                                                    <div class="form-group">
                                                        <label>Numero documento </label>
                                                        <h:inputText id="regDocumento" required="true" requiredMessage="Ingrese un numero de documento" value="#{administradorView.usReg.documento}" class="form-control" html5:placeholder="Numero documento"/>
                                                        <h:message style="color: red" for="regDocumento"></h:message>
                                                    </div>


                                                    <div class="form-group">
                                                        <label>Nombres </label>
                                                        <h:inputText required="true" requiredMessage="Ingrese sus nombres" id="regNombres" value="#{administradorView.usReg.primerNombre}" class="form-control" html5:placeholder="Nombres"/>
                                                        <h:message style="color: red" for="regNombres"></h:message>
                                                    </div>



                                                    <div class="form-group">
                                                        <label>Apellidos </label>
                                                        <h:inputText required="true" requiredMessage="Ingrese sus apellidos" id="regApellidos" value="#{administradorView.usReg.primerApellido}" class="form-control" html5:placeholder="Apellidos"/>
                                                        <h:message style="color: red" for="regApellidos"></h:message>
                                                    </div>

                                                    <div class="form-group">
                                                        <label>Dirección de correo electrónico</label>
                                                        <h:inputText required="true"  requiredMessage="Ingrese un correo" id="regCorreo" value="#{administradorView.usReg.correoElectronico}" class="form-control" html5:placeholder="Correo electrónico"/>
                                                        <h:message style="color: red" for="regCorreo"></h:message>
                                                    </div>

                                                    <div class="form-group">
                                                        <label>Clave</label>
                                                        <h:inputSecret required="true" requiredMessage="Ingrese una clave" id="regClave"  value="#{administradorView.usReg.password}" class="form-control" html5:placeholder="Clave"/>
                                                        <h:message style="color: red" for="regClave"></h:message>
                                                    </div>



                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <h:commandButton action="#{administradorView.crearUsuario()}"  class="btn btn-primary btn-flat m-b-30 m-t-30" value="Registrarse"/>
                                                </div>
                                            </h:form>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                    <!-- page end-->
                </section>


            </section>
            <!--main content end-->
        </section>
        <!-- container section end -->
        <!-- javascripts -->
        <script src="../vendors/datatables.net/js/jquery.dataTables.min.js"></script>
        <script src="../vendors/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
        <script src="../vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
        <script src="../vendors/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
        <script src="../vendors/jszip/dist/jszip.min.js"></script>
        <script src="../vendors/pdfmake/build/pdfmake.min.js"></script>
        <script src="../vendors/pdfmake/build/vfs_fonts.js"></script>
        <script src="../vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
        <script src="../vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
        <script src="../vendors/datatables.net-buttons/js/buttons.colVis.min.js"></script>
        <script src="../assets/js/init-scripts/data-table/datatables-init.js"></script>
        <script>
                                                                                        (function ($) {
                                                                                            "use strict";

                                                                                            jQuery('#vmap').vectorMap({
                                                                                                map: 'world_en',
                                                                                                backgroundColor: null,
                                                                                                color: '#ffffff',
                                                                                                hoverOpacity: 0.7,
                                                                                                selectedColor: '#1de9b6',
                                                                                                enableZoom: true,
                                                                                                showTooltip: true,
                                                                                                values: sample_data,
                                                                                                scaleColors: ['#1de9b6', '#03a9f5'],
                                                                                                normalizeFunction: 'polynomial'
                                                                                            });
                                                                                        })(jQuery);
        </script>

        <script src="js/jquery.js"></script>

        <script src="js/bootstrap.min.js"></script>
        <!-- nicescroll -->

        <script src="js/jquery.scrollTo.min.js"></script>

        <script src="js/jquery.nicescroll.js" type="text/javascript"></script>
        <!--custome script for all page-->

        <script src="js/scripts.js"></script>

        <script src="https://code.jquery.com/jquery-3.5.1.js"
                integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
        crossorigin="anonymous"></script>


        <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
        <script src="../assets/js/main.js"></script>

    </h:body>
</html>

